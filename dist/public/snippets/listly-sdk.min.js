function init(){Listly=new ListlySDK,Listly.loadDeps(),Listly.fillOutListlyContainers()}var PlaceHolder=function(){function t(){}return t}(),ListlySDK=function(){function t(){this.defaultLanguage="en",this.production=!0,this.apiUrl=this.production?"https://listly-api.viciqloud.com":"http://localhost:8000",this.cdnUrl=this.production?"https://listly-cdn.viciqloud.com":"http://localhost:9000",this.PLACEHOLDERS={en:{loading:"Loading",email:"Your email",firstName:"First name",lastName:"Last name",message:"Write your message here",send:"Send",thankyou:"Thank you!",error:"Error"},de:{loading:"Bitte warten",email:"E-mail-Addresse",firstName:"Vorname",lastName:"Nachname",message:"Ihre Nachricht",send:"Abschicken",thankyou:"Vielen Dank!",error:"Fehlgeschlagen"}}}return t.prototype.appendListlyCss=function(){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",this.apiUrl+"/snippets/listly.css"),document.getElementsByTagName("head")[0].appendChild(t)},t.prototype.addClass=function(t,e){(" "+t.className+" ").indexOf(" "+e+" ")>=0&&(t.className+=" "+e)},t.prototype.getParameterByName=function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=i.exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},t.prototype.fillOutListlyContainers=function(){var t=this,e=[["listly-subs-form","getSubcriptionFormHTML"],["listly-contact-form","getContactFormHTML"]];e.forEach(function(e){var i,a,n,s,l=document.getElementById(e[0]);if(l){a=l.attributes["data-public-key"].nodeValue;var r=l.attributes["data-lang"];r&&(i=r.nodeValue);var o=l.attributes["data-button-bg-color"];o&&(n=o.nodeValue);var c=l.attributes["data-button-label"];c&&(s=c.nodeValue),"getSubcriptionFormHTML"==e[1]?l.appendChild(t[e[1]](a,i,n,s)):l.innerHTML=t[e[1]](a,i,n,s)}})},t.prototype.loadDeps=function(){this.load(this.cdnUrl+"/snippets/listly.css","css"),this.load(this.cdnUrl+"/lib/nanoajax.min.js","js")},t.prototype.load=function(t,e){var i;"js"==e?(i=document.createElement("script"),i.setAttribute("type","text/javascript"),i.setAttribute("src",t)):"css"==e&&(i=document.createElement("link"),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t)),"undefined"!=typeof i&&document.getElementsByTagName("head")[0].appendChild(i)},t.prototype.submitForm=function(t){var e,i=document.getElementById("listly-"+t+"-form"),a=i.attributes["data-public-key"].nodeValue,n=i.attributes["data-lang"].nodeValue,s=i.attributes["data-props"];s&&(e=s.nodeValue),n=n||this.defaultLanguage;var l,r=this.PLACEHOLDERS,o=r[n],c=this.cdnUrl;switch(t){case"subs":l=this.apiUrl+"/add-to-list?public_key="+a;break;case"contact":l=this.apiUrl+"/send-message?public_key="+a;break;default:throw"I do not know what to do."}var u=document.getElementById("listly-"+t+"-container"),d=(document.getElementById("listly-"+t+"-submit-button"),document.getElementById("listly-"+t+"-email").value);if("contact"==t)var m=document.getElementById("listly-"+t+"-first-name").value,y=document.getElementById("listly-"+t+"-last-name").value,p=document.getElementById("listly-"+t+"-message").value;var h="email="+d+"&firstName="+m+"&lastName="+y+"&message="+p;h+="&"+e;var b={url:l,method:"POST",body:h};u.innerHTML='<div class="listly-loader">\n                                    <div>\n                                        <img src="'+c+'/loader.svg">\n                                    </div>\n                                 </div>',nanoajax.ajax(b,function(t,e){if(200!==t){console.error(t,e);var i='<div class="listly-row">\n                                        <img class="listly-img-success" src="'+c+'/listly-error.png">\n                                      </div>\n                                      <div class="listly-row">\n                                        <h3 class="listly-center listly-thankyou-text">\n                                            '+o.error+'\n                                        </h3>\n\n                                        <p class="listly-center" style="max-width:200px;">\n                                            '+t+" "+e+"\n                                        </p>\n                                      </div>";u.innerHTML=i}else{var a='<div class="listly-row">\n                                            <img class="listly-img-success" src="'+c+'/circle-with-check-symbol.png">\n                                        </div>\n                                        <div class="listly-row">\n                                            <h3 class="listly-center listly-thankyou-text">'+o.thankyou+"</h3> \n                                        </div>    \n                                        ";u.innerHTML=a}})},t.prototype.createListlyContainer=function(t,e){var i=document.createElement("div");return i.setAttribute("id",t),i.className=e,i},t.prototype.createFormButton=function(t){var e=this.PLACEHOLDERS[t.language||this.defaultLanguage],i=document.createElement("button");return i.setAttribute("id",t.id),i.setAttribute("type","submit"),i.className=t.className,t.buttonBgColor&&i.style.setProperty("background",t.buttonBgColor),i.innerHTML=t.buttonLabel||e.send,i},t.prototype.createForm=function(t){var e=document.createElement("form");return e.className="listly-form",e.setAttribute("action","javascript:Listly.submitForm('subs');"),e},t.prototype.createInputElement=function(t){var e=document.createElement("fieldset"),i=document.createElement("input");return i.setAttribute("id",t.id),i.setAttribute("type",t.type||"email"),i.setAttribute("placeholder",t.placeholder),i.attributes.required=t.required?"required":"",e.appendChild(i),e},t.prototype.getSubcriptionFormHTML=function(t,e,i,a){var n=this.PLACEHOLDERS[e||this.defaultLanguage],s=this.createListlyContainer("listly-subs-container","listly-container"),l=this.createForm({}),r={id:"listly-subs-email",type:"email",placeholder:n.email,required:!0},o=this.createInputElement(r),c={id:"listly-subs-submit-button",buttonBgColor:null,className:null,buttonLabel:null};i?c.buttonBgColor=i:c.className="listly-button-bg-color",c.buttonLabel=a||n.send;var u=this.createFormButton(c);return l.appendChild(o),l.appendChild(u),s.appendChild(l),s},t.prototype.getContactFormHTML=function(t,e,i,a){e=e||this.defaultLanguage;var n=this.PLACEHOLDERS,s=n[e],l="";return l+='<div id="listly-contact-container" class="listly-container">',l+='<form class="contact" class="listly-form" action="javascript:Listly.submitForm(\'contact\');">',l+="<fieldset>",l+='<input id="listly-contact-email" type="email" placeholder="'+s.email+'" required>',l+='<input id="listly-contact-first-name" type="text" placeholder="'+s.firstName+'" required>',l+='<input id="listly-contact-last-name" type="text" placeholder="'+s.lastName+'" required>',l+='<textarea id="listly-contact-message" placeholder="'+s.message+'"></textarea>',l+="</fieldset>",l+=i?'<button id="listly-contact-submit-button" style="background:'+i+'" type="submit">':'<button id="listly-contact-submit-button" class="listly-button-bg-color" type="submit">',l+=a?a+"</button>":s.send+"</button>",l+="</form></div>",l+='<!--<span style="margin:0 auto;">Powered by <a href="http://viciqloud.com">ViciQloud</a></span>--></div>'},t}(),Listly;init();